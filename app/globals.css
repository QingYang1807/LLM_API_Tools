/* 基础样式 */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 全局样式 */
html {
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
  overflow-x: hidden;
  touch-action: manipulation;
}

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
  overscroll-behavior: none;
}

/* 移动端安全区域适配 */
@supports (padding: max(0px)) {
  .safe-area-top {
    padding-top: max(env(safe-area-inset-top), 1rem);
  }
  
  .safe-area-bottom {
    padding-bottom: max(env(safe-area-inset-bottom), 1rem);
  }
  
  .safe-area-left {
    padding-left: max(env(safe-area-inset-left), 1rem);
  }
  
  .safe-area-right {
    padding-right: max(env(safe-area-inset-right), 1rem);
  }
}

/* 移动端头部适配 */
.mobile-header {
  padding-top: env(safe-area-inset-top, 0px);
  min-height: calc(60px + env(safe-area-inset-top, 0px));
}

/* 移动端底部适配 */
.mobile-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* 组件样式 */
@layer components {
  /* 按钮样式 */
  .btn-primary {
    @apply bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200;
  }
  
  .btn-primary:active {
    @apply scale-95;
  }
  
  .btn-primary:disabled {
    @apply opacity-50 cursor-not-allowed scale-100;
  }
  
  .btn-secondary {
    @apply bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 shadow-md hover:shadow-lg transition-all duration-200;
  }
  
  .btn-secondary:active {
    @apply scale-95;
  }
  
  .btn-secondary:disabled {
    @apply opacity-50 cursor-not-allowed scale-100;
  }
  
  .btn-danger {
    @apply bg-red-500 hover:bg-red-600 text-white shadow-lg hover:shadow-xl transition-all duration-200;
  }
  
  .btn-danger:active {
    @apply scale-95;
  }
  
  .btn-danger:disabled {
    @apply opacity-50 cursor-not-allowed scale-100;
  }
  
  .btn-ghost {
    @apply bg-transparent hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 transition-colors duration-200;
  }
  
  /* 输入框样式 */
  .input-field {
    @apply w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 resize-none;
  }
  
  .input-field:disabled {
    @apply opacity-50 cursor-not-allowed;
  }
  
  /* 消息气泡样式 */
  .message-bubble {
    @apply break-words;
  }
  
  .message-bubble.user-message {
    @apply ml-auto;
  }
  
  .message-bubble.assistant-message {
    @apply mr-auto;
  }
  
  /* 移动端消息气泡适配 */
  @media (max-width: 768px) {
    .message-bubble {
      @apply px-3 py-2;
    }
  }
  
  /* 容器样式 */
  .container-responsive {
    @apply w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  /* 移动端优化 */
  .mobile-optimized {
    @apply touch-manipulation;
  }
  
  /* 平板优化 */
  .tablet-optimized {
    @apply touch-manipulation;
  }
  
  /* 桌面端优化 */
  .desktop-optimized {
    @apply cursor-pointer;
  }
  
  /* 加载骨架屏 */
  .loading-skeleton {
    @apply animate-pulse bg-slate-200 dark:bg-slate-700 rounded;
  }
  
  /* 状态样式 */
  .error-state {
    @apply text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800;
  }
  
  .success-state {
    @apply text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800;
  }
  
  .warning-state {
    @apply text-yellow-600 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800;
  }
  
  /* 响应式文本 */
  .responsive-text {
    @apply text-sm sm:text-base;
  }
  
  /* 响应式内边距 */
  .responsive-padding {
    @apply p-3 sm:p-4 lg:p-6;
  }
  
  /* 响应式外边距 */
  .responsive-margin {
    @apply m-3 sm:m-4 lg:m-6;
  }
  
  /* 触摸优化 */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }
  
  /* 滚动条样式 */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgb(203 213 225) transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgb(203 213 225);
    border-radius: 3px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: rgb(148 163 184);
  }
  
  /* 移动端滚动条 */
  @media (max-width: 768px) {
    .scrollbar-thin::-webkit-scrollbar {
      width: 4px;
    }
  }
  
  /* 侧边栏样式 */
  .sidebar-mobile {
    @apply fixed inset-y-0 left-0 z-[9999] w-80 transform transition-transform duration-300 ease-in-out;
  }

  .sidebar-mobile.hidden {
    @apply -translate-x-full;
  }

  .overlay {
    @apply fixed inset-0 bg-black/50 z-[9998];
  }
  
  .sidebar-tablet {
    @apply w-80;
  }
  
  .sidebar-desktop {
    @apply w-80;
  }
  
  /* 高DPI屏幕优化 */
  @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .high-dpi-optimized {
      @apply antialiased;
    }
  }
  
  /* 减少动画偏好 */
  @media (prefers-reduced-motion: reduce) {
    .motion-reduce {
      @apply transition-none;
    }
    
    .motion-reduce * {
      @apply transition-none;
    }
  }
  
  /* 渐变文本 */
  .gradient-text {
    @apply bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent;
  }
  
  /* 按钮悬停效果 */
  .button-hover {
    @apply transform transition-all duration-200 hover:scale-105 active:scale-95;
  }
} 